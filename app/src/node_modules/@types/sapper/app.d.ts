import type { Writable, Readable } from "svelte/store";
import type { Session, Page } from "./types";

export interface Redirect {
  statusCode: number
  location: string
}

export const goto: (href: string, opts?: { replaceState: boolean }) => Promise<void>;

export const prefetch: (href: string) => Promise<{ redirect?: Redirect; data?: unknown }>

export const prefetchRoutes: (pathnames: string[]) => Promise<unknown>

export const start: (opts: { target: Node }) => Promise<unknown>

export const stores: () => {
  preloading: Readable<boolean>,
  session: Writable<Session>,
  page: Readable<Page>,
}