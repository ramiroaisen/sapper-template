export type Page = {
  host: string
  path: string
  params: Record<string, string>
  query: Record<string, string>
}

export type Session = {}

export type PreloadContext = {
  error: (status: number, message: string) => void;
  redirect: (status: number, location: string) => void;
  fetch: typeof fetch;
}

export type Preload = (this: PreloadContext, page: Page, session: Session) => Promise<any>;